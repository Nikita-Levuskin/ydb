# Переменные окружения для запуска {{ ydb-short-name }} в Docker

Во время [запуска](start.md) {{ ydb-short-name }} в Docker можно указывать дополнительные переменные окружения с помощью ключа `-e` команды `docker run`.

## Переменные окружения

| Имя                                                                                                                                                                         | Тип        | Значение по умолчанию  | Версия {{ ydb-short-name }}                   | Описание                                                                                                                                                                               |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------|------------------------|------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [`POSTGRES_USER`](https://github.com/ydb-platform/ydb/blob/c113fcffa7b1a20ad8dcb1b1760ae5bfa25370ca/ydb/public/tools/lib/cmds/__init__.py#L240)                             | `string`   | `postgres`             | `≥23.1`                      | Имя пользователя для доступа через [режим совместимости с PostgreSQL](../../postgresql/intro.md).                                                                                                                                                             |
| [`POSTGRES_PASSWORD`](https://github.com/ydb-platform/ydb/blob/c113fcffa7b1a20ad8dcb1b1760ae5bfa25370ca/ydb/public/tools/lib/cmds/__init__.py#L240)                         | `string`   | ''                     | `≥23.1`                      | Пароль пользователя для доступа через [режим совместимости с PostgreSQL](../../postgresql/intro.md).                                                                                                                                                          |
| [`YDB_LOCAL_SURVIVE_RESTART`](https://github.com/ydb-platform/ydb/blob/c113fcffa7b1a20ad8dcb1b1760ae5bfa25370ca/ydb/public/tools/lib/cmds/__init__.py#L254)                 | `0` или `1`| `1`                    |                              | При значении `1` используются файлы конфигурации, созданные при предыдущих запусках, если таковые имеются. При значении `0` всегда генерируются новые файлы конфигурации.        |
| [`YDB_GRPC_ENABLE_TLS`](https://github.com/ydb-platform/ydb/blob/c113fcffa7b1a20ad8dcb1b1760ae5bfa25370ca/ydb/public/tools/lib/cmds/__init__.py#L258)                       | `0` или `1`| `1`                    |                              | Включает использование TLS для gRPC соединений.                                                                                                                                                |
| [`YDB_GRPC_TLS_DATA_PATH`](https://github.com/ydb-platform/ydb/blob/8fefc809c83829d8d8b886e82534d009de4c8826/ydb/public/tools/lib/cmds/__init__.py#L291)                    | `string`   | `/ydb_data`            |                              | Путь до директории с TLS сертификатами для gRPC соединений.                                                                                                                                                               |      
| [`YDB_PQ_CLIENT_SERVICE_TYPES`](https://github.com/ydb-platform/ydb/blob/8fefc809c83829d8d8b886e82534d009de4c8826/ydb/public/tools/lib/cmds/__init__.py#L297)               | `string`   | `None`                 |                              | Тип клиента persistent queue.                                                                                                                                                                       |
| [`YDB_ENABLE_PQCD`](https://github.com/ydb-platform/ydb/blob/8fefc809c83829d8d8b886e82534d009de4c8826/ydb/public/tools/lib/cmds/__init__.py#L310)                           | `0` или `1`| `0`                    |                              | Включает использование persistent queue cluster discovery.                                                                                                                                                          |
| [`MON_PORT`](https://github.com/ydb-platform/ydb/blob/8dde59cd0af86737d07a1cd8ff19811a2bd2b663/ydb/tests/library/harness/kikimr_port_allocator.py#L170)                     | `int`      | `8765`                 |                              | Порт для мониторинга.                                                                                                                                                                   |
| [`PUBLIC_HTTP_PORT`](https://github.com/ydb-platform/ydb/blob/8dde59cd0af86737d07a1cd8ff19811a2bd2b663/ydb/tests/library/harness/kikimr_port_allocator.py#L192)             | `int`      | `8766`                 |                              | Публичный HTTP порт.                                                                                                                                                                  |
| [`GRPC_PORT`](https://github.com/ydb-platform/ydb/blob/8dde59cd0af86737d07a1cd8ff19811a2bd2b663/ydb/tests/library/harness/kikimr_port_allocator.py#L174)                    | `int`      | `2135`                 |                              | gRPC порт.                                                                                                                                                                            |
| [`IC_PORT`](https://github.com/ydb-platform/ydb/blob/8dde59cd0af86737d07a1cd8ff19811a2bd2b663/ydb/tests/library/harness/kikimr_port_allocator.py#L179)                      | `int`      | `19001`                |                              | Порт интерконнекта.                                                                                                                                                                    |
| [`GRPC_TLS_PORT`](https://github.com/ydb-platform/ydb/blob/8dde59cd0af86737d07a1cd8ff19811a2bd2b663/ydb/tests/library/harness/kikimr_port_allocator.py#L183)                | `int`      | `2137`                 |                              | gRPCS порт.                                                                                                                                                                        |
| [`GRPC_EXT_PORT`](https://github.com/ydb-platform/ydb/blob/8dde59cd0af86737d07a1cd8ff19811a2bd2b663/ydb/tests/library/harness/kikimr_port_allocator.py#L187)                | `int`      | `2237`                 |                              | Внешний gRPC порт.                                                                                                                                                                        |
| [`YDB_ERASURE`](https://github.com/ydb-platform/ydb/blob/8fefc809c83829d8d8b886e82534d009de4c8826/ydb/public/tools/lib/cmds/__init__.py#L50)                                | `string`   | `None`                 |                              | Режим работы распределйнного хранилища, см. [{#T}](../../concepts/topology.md).                                                                                                                   |
| [`FQ_CONNECTOR_ENDPOINT`](https://github.com/ydb-platform/ydb/blob/c113fcffa7b1a20ad8dcb1b1760ae5bfa25370ca/ydb/public/tools/lib/cmds/__init__.py#L261)                     | `string`   | `None`                 | `≥24.1`                      | Строка подключения коннектора к внешним источникам `fq-connector-go`.                                                                                                                     |
| [`YDB_USE_IN_MEMORY_PDISKS`](https://github.com/ydb-platform/ydb/blob/c113fcffa7b1a20ad8dcb1b1760ae5bfa25370ca/ydb/public/tools/lib/cmds/__init__.py#L230)                  | `0` или `1`| `0`                    |                              | Делает все данные волатильными, хранящимися только в оперативной памяти. В настоящее время сохранение данных путём её отключения поддерживается только на процессорах x86_64.           |
| [`YDB_KQP_RESULT_ROWS_LIMIT`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L69)             | `int`      | `1000`                 |                              | Лимит на количество строк в результатах запросов.                                                                                                                                                                     |
| [`YDB_YQL_SYNTAX_VERSION`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L70)                | `int`      | `1`                    |                              | Задаёт версию синтаксиса [YQL](../../yql/reference/index.md).                                                                                                                                                   |
| [`YDB_KQP_FORCE_NEW_ENGINE`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L71)              | `0` или `1`| `1`                    |                              | Включает использование нового движка [KPQ](../../concepts/glossary.md#kqp).                                                                                                                                               |
| [`YDB_DEFAULT_LOG_LEVEL`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L73)                 | `string`   | `NOTICE`               |                              | Задаёт уровень логирования по умолчанию. Доступные значения уровней: `CRIT`, `ERROR`, `WARN`, `NOTICE`, `INFO`.                                                                                     |
| [`YDB_ADDITIONAL_LOG_CONFIGS`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L48)            | `string`   | `None`                 |                              | Задаёт дополнительные уровни логирования в формате: `компонент:значение уровня`. Если необходимо указать несколько компонентов, их следует вводить через запятую.                           |  
| [`YDB_CONFIG_PATCH`]()                                                                                                                                                      | `string`   | `None`                 | `24.3`                       | Задает возможность указать путь к конфигу, содержимое которого будет использовано для генерации новго конфига {{ ydb-short-name }}, если конфиг {{ ydb-short-name }} уже был сгенерирован во время прошлых запусков, то изменения не произойдут. |
| [`YDB_PQ_TOPICS_ARE_FIRST_CLASS_CITIZEN`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L77) <br> [`YDB_PQ_CLUSTER_TABLE_PATH`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L78) <br>  [`YDB_PQ_VERSION_TABLE_PATH`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L79) <br> [`YDB_PQ_ROOT`](https://github.com/ydb-platform/ydb/blob/b1c590828b222c839dedecd8e6e79413ef5b7eec/ydb/tests/library/harness/kikimr_config.py#L80) <br/>| `0` or `1` <br> `string` <br> `string` <br> `string` <br/>| `1` <br> `None` <br> `None` <br> `None` <br/> |  | Не используются.          |  ```
